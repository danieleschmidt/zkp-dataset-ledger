# ZKP Dataset Ledger Environment Configuration
# Copy this file to .env and customize the values for your environment

# =============================================================================
# CORE LEDGER CONFIGURATION
# =============================================================================

# Ledger identification and basic settings
LEDGER_NAME=zkp-dataset-ledger
LEDGER_ENVIRONMENT=development  # development, testing, staging, production

# Cryptographic settings
HASH_ALGORITHM=sha3-256  # sha3-256, blake3
PROOF_SYSTEM=groth16
ELLIPTIC_CURVE=bls12-381
SECURITY_LEVEL=128

# Performance settings
PARALLEL_PROVE=true
PROOF_CACHE_SIZE_MB=1024
COMPRESSION_ENABLED=true

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Storage backend selection
STORAGE_BACKEND=rocksdb  # rocksdb, postgres

# RocksDB settings (when STORAGE_BACKEND=rocksdb)
ROCKSDB_PATH=./ledger-data
ROCKSDB_MAX_SIZE_GB=100
ROCKSDB_CACHE_SIZE_MB=512
ROCKSDB_COMPRESSION=lz4

# PostgreSQL settings (when STORAGE_BACKEND=postgres)
DATABASE_URL=postgresql://zkp_user:zkp_password@localhost:5432/zkp_ledger
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=zkp_user
POSTGRES_PASSWORD=zkp_password
POSTGRES_DB=zkp_ledger
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SSL_MODE=prefer

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Logging configuration
RUST_LOG=info  # error, warn, info, debug, trace
RUST_BACKTRACE=0  # 0, 1, full
LOG_FORMAT=json  # json, pretty, compact
LOG_FILE=./logs/zkp-ledger.log
LOG_ROTATION_SIZE_MB=100
LOG_RETENTION_DAYS=30

# Metrics and observability
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
TELEMETRY_ENDPOINT=http://localhost:4317
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Health check configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=8080
HEALTH_CHECK_PATH=/health

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API authentication (when running as service)
API_KEY_REQUIRED=false
API_KEY=your-secure-api-key-here
JWT_SECRET=your-jwt-secret-here
JWT_EXPIRATION_HOURS=24

# TLS configuration
TLS_ENABLED=false
TLS_CERT_PATH=./certs/cert.pem
TLS_KEY_PATH=./certs/key.pem
TLS_CA_PATH=./certs/ca.pem

# CORS settings (when running as web service)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-API-Key

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development mode settings (only for development/testing)
DEV_MODE=true
DEV_AUTO_RELOAD=true
DEV_EXTRA_VALIDATION=true
DEV_DEBUG_PROOFS=true
DEV_MOCK_PROOFS=false

# Test data configuration
TEST_DATA_PATH=./test-data
BENCHMARK_RESULTS_PATH=./benchmark-results
SAMPLE_DATASETS_ENABLED=true

# Development database (separate from production)
DEV_DATABASE_URL=postgresql://zkp_dev:zkp_dev_password@localhost:5433/zkp_ledger_dev

# =============================================================================
# EXPORT AND INTEGRATION SETTINGS
# =============================================================================

# Export format configuration
DEFAULT_EXPORT_FORMAT=json-ld  # json-ld, json, pdf, html
EXPORT_INCLUDE_VISUALIZATIONS=true
EXPORT_COMPRESS_LARGE_REPORTS=true

# MLflow integration
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=zkp-dataset-experiments
MLFLOW_ARTIFACT_LOCATION=./mlruns

# Jupyter integration
JUPYTER_ENABLED=true
JUPYTER_TOKEN=your-jupyter-token-here
JUPYTER_PORT=8888

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Memory management
MAX_MEMORY_USAGE_GB=8
STREAMING_CHUNK_SIZE_ROWS=1000000
PARALLEL_PROCESSING_THREADS=0  # 0 = auto-detect CPU cores

# Dataset processing limits
MAX_DATASET_SIZE_GB=10
MAX_COLUMNS_COUNT=1000
MAX_ROWS_PER_PROOF=10000000

# Proof generation timeouts
PROOF_GENERATION_TIMEOUT_SECONDS=300
VERIFICATION_TIMEOUT_SECONDS=10
BATCH_PROCESSING_TIMEOUT_SECONDS=3600

# =============================================================================
# CLOUD AND DEPLOYMENT SETTINGS
# =============================================================================

# Container settings
CONTAINER_MEMORY_LIMIT=4g
CONTAINER_CPU_LIMIT=2
RESTART_POLICY=unless-stopped

# Cloud storage (optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-west-2
S3_BUCKET_NAME=zkp-ledger-backups

# Azure storage (optional)
AZURE_STORAGE_ACCOUNT=your-storage-account
AZURE_STORAGE_KEY=your-storage-key
AZURE_CONTAINER_NAME=zkp-ledger

# Google Cloud storage (optional)
GOOGLE_APPLICATION_CREDENTIALS=./gcp-service-account.json
GCS_BUCKET_NAME=zkp-ledger-gcs

# =============================================================================
# COMPLIANCE AND AUDIT SETTINGS
# =============================================================================

# Regulatory compliance
GDPR_COMPLIANCE_MODE=true
CCPA_COMPLIANCE_MODE=true
HIPAA_COMPLIANCE_MODE=false
SOX_COMPLIANCE_MODE=false

# Audit trail configuration
AUDIT_LOG_ENABLED=true
AUDIT_LOG_PATH=./audit-logs
AUDIT_LOG_RETENTION_YEARS=7
AUDIT_LOG_ENCRYPTION=true

# Data retention policies
DATA_RETENTION_POLICY_DAYS=2555  # 7 years default
PROOF_RETENTION_POLICY_DAYS=3650  # 10 years default
LOG_RETENTION_POLICY_DAYS=365     # 1 year default

# =============================================================================
# ADVANCED FEATURES
# =============================================================================

# Differential Privacy (experimental)
DP_ENABLED=false
DP_EPSILON=1.0
DP_DELTA=1e-5
DP_MECHANISM=laplace  # laplace, gaussian

# Multi-party computation (experimental)
MPC_ENABLED=false
MPC_PARTY_COUNT=3
MPC_THRESHOLD=2

# Federated learning (experimental)
FEDERATED_ENABLED=false
FEDERATED_COORDINATOR_URL=http://localhost:8081

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Slack notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#zkp-alerts
SLACK_USERNAME=zkp-ledger-bot

# Email notifications (optional)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=zkp-ledger@yourcompany.com
SMTP_TO=admin@yourcompany.com

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Experimental features (use with caution in production)
FEATURE_CUSTOM_CIRCUITS=false
FEATURE_STREAMING_PROOFS=false
FEATURE_BATCH_VERIFICATION=true
FEATURE_PROOF_COMPRESSION=true
FEATURE_ADVANCED_STATISTICS=false

# API features
API_RATE_LIMITING=true
API_REQUEST_LOGGING=true
API_RESPONSE_CACHING=false

# UI features (if web interface is enabled)
WEB_UI_ENABLED=false
WEB_UI_PORT=3000
WEB_UI_THEME=dark  # light, dark, auto

# =============================================================================
# TROUBLESHOOTING AND DEBUG
# =============================================================================

# Debug settings (DO NOT enable in production)
DEBUG_MODE=false
DEBUG_PRINT_PROOFS=false
DEBUG_SAVE_INTERMEDIATE_DATA=false
DEBUG_TIMING_ENABLED=false
DEBUG_MEMORY_PROFILING=false

# Panic behavior
RUST_PANIC=abort  # abort, unwind

# Crash reporting (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit the actual .env file to version control
# 2. Use strong, unique passwords for production environments
# 3. Regularly rotate API keys and certificates
# 4. Monitor logs for suspicious activity
# 5. Test configuration changes in a development environment first
# 6. Keep backup copies of critical configuration
# 7. Document any custom settings and their purposes
# 8. Review and update settings regularly for security and performance