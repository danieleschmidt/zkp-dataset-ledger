# ZKP Dataset Ledger - Environment Configuration Template
# Copy this file to .env and configure for your environment

# =============================================================================
# Core Application Configuration
# =============================================================================

# Application Environment (development, staging, production)
ZKP_ENV=development

# Logging Configuration
RUST_LOG=zkp_dataset_ledger=debug,info
RUST_BACKTRACE=1

# Application Server Configuration
ZKP_HOST=127.0.0.1
ZKP_PORT=8080
ZKP_WORKERS=4

# =============================================================================
# Storage Backend Configuration
# =============================================================================

# Default storage backend: rocksdb, postgres, s3
ZKP_STORAGE_BACKEND=rocksdb

# RocksDB Configuration (when using rocksdb backend)
ZKP_ROCKSDB_PATH=./data/ledger.db
ZKP_ROCKSDB_MAX_SIZE_GB=10
ZKP_ROCKSDB_COMPRESSION=snappy

# PostgreSQL Configuration (when using postgres backend)
DATABASE_URL=postgresql://zkp_user:zkp_password@localhost:5432/zkp_ledger
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=zkp_ledger
POSTGRES_USER=zkp_user
POSTGRES_PASSWORD=zkp_password
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_SSL_MODE=prefer

# S3/Cloud Storage Configuration (when using s3 backend)
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
ZKP_S3_BUCKET=zkp-dataset-ledger
ZKP_S3_PREFIX=ledger-data/

# =============================================================================
# Cryptographic Configuration
# =============================================================================

# ZK Proof System Configuration
ZKP_CURVE=bls12-381
ZKP_SECURITY_LEVEL=128
ZKP_PARALLEL_PROVE=true
ZKP_CACHE_SIZE_MB=1024

# Trusted Setup Configuration
ZKP_TRUSTED_SETUP_PATH=./trusted-setup/
ZKP_SETUP_VERIFICATION=strict

# Hash Algorithm Configuration
ZKP_HASH_ALGORITHM=sha3-256
ZKP_MERKLE_TREE_ARITY=4

# =============================================================================
# Performance Configuration
# =============================================================================

# Memory Management
ZKP_MAX_MEMORY_GB=8
ZKP_STREAMING_THRESHOLD_MB=500
ZKP_BATCH_SIZE=10000

# Concurrency Configuration
ZKP_MAX_CONCURRENT_PROOFS=4
ZKP_WORKER_THREADS=0  # 0 = auto-detect CPU cores

# Caching Configuration
ZKP_ENABLE_CACHING=true
ZKP_CACHE_TTL_SECONDS=3600
ZKP_CACHE_MAX_ENTRIES=10000

# =============================================================================
# Development Configuration
# =============================================================================

# Development Mode Settings
ZKP_DEV_MODE=true
ZKP_HOT_RELOAD=true
ZKP_DEBUG_CIRCUITS=true

# Testing Configuration
ZKP_TEST_DATA_PATH=./test-data/
ZKP_TEST_PARALLEL=true
ZKP_PROPERTY_TEST_CASES=1000

# Benchmarking Configuration
ZKP_BENCHMARK_ITERATIONS=100
ZKP_BENCHMARK_WARMUP=10
ZKP_BENCHMARK_OUTPUT=./benchmarks/

# =============================================================================
# Security Configuration
# =============================================================================

# API Security
ZKP_API_KEY=your_api_key_here
ZKP_JWT_SECRET=your_jwt_secret_here
ZKP_CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Rate Limiting
ZKP_RATE_LIMIT_REQUESTS_PER_MINUTE=1000
ZKP_RATE_LIMIT_PROOF_GENERATION_PER_HOUR=100

# Audit Configuration
ZKP_AUDIT_LOG_PATH=./logs/audit.log
ZKP_AUDIT_LOG_LEVEL=info
ZKP_AUDIT_RETENTION_DAYS=90

# =============================================================================
# Monitoring & Observability
# =============================================================================

# Metrics Configuration
ZKP_METRICS_ENABLED=true
ZKP_METRICS_PORT=9090
ZKP_METRICS_PATH=/metrics

# Tracing Configuration
ZKP_TRACING_ENABLED=true
ZKP_JAEGER_ENDPOINT=http://localhost:14268/api/traces
ZKP_TRACE_SAMPLE_RATE=0.1

# Health Check Configuration
ZKP_HEALTH_CHECK_PORT=8081
ZKP_HEALTH_CHECK_PATH=/health

# =============================================================================
# Integration Configuration
# =============================================================================

# MLflow Integration
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=zkp-dataset-tracking
MLFLOW_ARTIFACT_ROOT=./mlruns

# External API Configuration
ZKP_EXTERNAL_API_TIMEOUT_SECONDS=30
ZKP_EXTERNAL_API_RETRY_ATTEMPTS=3

# Webhook Configuration
ZKP_WEBHOOK_URL=https://your-app.com/webhooks/zkp
ZKP_WEBHOOK_SECRET=your_webhook_secret
ZKP_WEBHOOK_TIMEOUT_SECONDS=10

# =============================================================================
# Deployment Configuration
# =============================================================================

# Container Configuration
ZKP_CONTAINER_NAME=zkp-dataset-ledger
ZKP_CONTAINER_VERSION=latest

# Kubernetes Configuration
ZKP_NAMESPACE=zkp-system
ZKP_SERVICE_ACCOUNT=zkp-ledger
ZKP_RESOURCE_LIMITS_CPU=2
ZKP_RESOURCE_LIMITS_MEMORY=4Gi

# Load Balancing Configuration
ZKP_LOAD_BALANCER_TYPE=nginx
ZKP_REPLICA_COUNT=3
ZKP_AUTO_SCALING_ENABLED=true

# =============================================================================
# Backup & Recovery Configuration
# =============================================================================

# Backup Configuration
ZKP_BACKUP_ENABLED=true
ZKP_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
ZKP_BACKUP_RETENTION_DAYS=30
ZKP_BACKUP_S3_BUCKET=zkp-backups

# Recovery Configuration
ZKP_RECOVERY_MODE=false
ZKP_RECOVERY_SOURCE=s3://zkp-backups/latest

# =============================================================================
# Feature Flags
# =============================================================================

# Experimental Features
ZKP_ENABLE_DIFFERENTIAL_PRIVACY=false
ZKP_ENABLE_MPC=false
ZKP_ENABLE_STREAMING=true
ZKP_ENABLE_CUSTOM_CIRCUITS=true

# API Features
ZKP_ENABLE_GRAPHQL=false
ZKP_ENABLE_GRPC=false
ZKP_ENABLE_WEBSOCKETS=false

# Integration Features
ZKP_ENABLE_PYTHON_BINDINGS=true
ZKP_ENABLE_JS_BINDINGS=false
ZKP_ENABLE_MLFLOW_INTEGRATION=false

# =============================================================================
# Development Overrides
# =============================================================================

# Override for local development - uncomment as needed

# Use in-memory storage for faster development
# ZKP_STORAGE_BACKEND=memory

# Disable proof generation for faster testing
# ZKP_SKIP_PROOF_GENERATION=true

# Use smaller datasets for development
# ZKP_DEV_DATASET_SIZE_LIMIT=1000

# Enable verbose logging for debugging
# RUST_LOG=zkp_dataset_ledger=trace,debug

# Disable security checks for development
# ZKP_DEV_SKIP_SECURITY_CHECKS=true